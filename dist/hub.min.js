/*!
 * Hub - v0.1.0
 * 2014-07-17
 */
!function(a){"use strict";var b={};b.trim=function(a){return a.replace(b.trim.r,"")},b.trim.r=/^\s+|\s+$/g;var c={},d=/\s+/,e=Array.prototype.slice,f="length";c.event={on:function(c,e,g,h){this._subscriptions||(this._subscriptions={}),3===arguments.length&&"boolean"==typeof g&&(h=g,g=a),c=b.trim(c).split(d);for(var i,j=c[f],k=-1;++k<j;)i=c[k],this._subscriptions[i]=this._subscriptions[i]||[],this._subscriptions[i].push({ctx:g,fn:e,once:!!h});return this},once:function(a,b,c){return this.on(a,b,c,!0)},off:function(c,e,g){if(!this._subscriptions)return this;c=b.trim(c).split(d);for(var h,i,j,k,l,m,n,o,p,q=c[f],r=-1,s=e!==a,t=g!==a;++r<q;)if(h=c[r],j=this._subscriptions[h]||[],l=j[f],m=-1,i=-1,s){for(n=[],p=!1,i=0;l>i;i++)k=j[i],o=!0,p||(t?k.fn===e&&k.ctx===g&&(o=!1):k.fn===e&&(o=!1)),o?n.push(k):p=!0;p&&(this._subscriptions[h]=n)}else this._subscriptions[h]=[];return this},trigger:function(c){if(!this._subscriptions)return this;c=b.trim(c).split(d);for(var g,h,i,j,k,l=e.call(arguments),m=c[f],n=-1;++n<m;)for(g=c[n],i=this._subscriptions[g]||[],k=i[f],h=-1;++h<k;)l[0]=g,j=i[h],j!==a&&(j.fn.apply(j.ctx,l),j.once&&this.off(g,j.fn,j.ctx));return this}};var g={};g.on=c.event.on,g.once=c.event.once,g.off=c.event.off,g.trigger=c.event.trigger,g.reset=function(){return this._subscriptions={},this},"object"==typeof module&&"object"==typeof module.exports?module.exports=g:"function"==typeof define&&define.amd?define("Hub",[],function(){return g}):"object"==typeof window&&(window.Hub=g)}();