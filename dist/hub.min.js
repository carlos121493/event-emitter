/*!
 * Hub - v0.1.0
 * 2014-07-18
 */
!function(a){"use strict";var b={};b.trim=function(a){return a.replace(b.trim.r,"")},b.trim.r=/^\s+|\s+$/g;var c={},d=/\s+/,e=Array.prototype.slice;c.event={on:function(a,c,e,f){this._subscriptions||(this._subscriptions={}),a=b.trim(a).split(d);for(var g,h=a.length,i=-1;++i<h;)g=a[i],this._subscriptions[g]=this._subscriptions[g]||[],this._subscriptions[g].push({ctx:e,fn:c,once:!!f});return this},once:function(a,b,c){return this.on(a,b,c,!0)},off:function(c,e,f){if(!this._subscriptions)return this;c=b.trim(c).split(d);for(var g,h,i,j,k,l,m,n,o,p=c.length,q=-1,r=e!==a,s=f!==a;++q<p;)if(g=c[q],i=this._subscriptions[g]||[],k=i.length,l=-1,h=-1,r){for(m=[],o=!1,h=0;k>h;h++)j=i[h],n=!0,o||(s?j.fn===e&&j.ctx===f&&(n=!1):j.fn===e&&(n=!1)),n?m.push(j):o=!0;o&&(this._subscriptions[g]=m)}else this._subscriptions[g]=[];return this},trigger:function(a){if(!this._subscriptions)return this;a=b.trim(a).split(d);for(var c,f,g,h,i,j=e.call(arguments),k=a.length,l=-1;++l<k;)for(c=a[l],g=this._subscriptions[c]||[],i=g.length,f=-1;++f<i;)j[0]=c,h=g[f],h.fn.apply(h.ctx,j),h.once&&this.off(c,h.fn,h.ctx);return this}};var f={};f.on=c.event.on,f.once=c.event.once,f.off=c.event.off,f.trigger=c.event.trigger,f.reset=function(){return this._subscriptions={},this},"object"==typeof module&&"object"==typeof module.exports?module.exports=f:"function"==typeof define&&define.amd?define("Hub",[],function(){return f}):"object"==typeof window&&(window.Hub=f)}();