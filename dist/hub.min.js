/*!
 * Hub - v0.1.0
 * 2014-07-22
 */
!function(a){"use strict";var b={},c=Array.prototype.slice,d=/\s+/;b.event={on:function(b,c,e,f){var g,h,i=this._subscriptions,j=b.split(d),k=j.length;for(i===a&&(i=this._subscriptions={});k--;)g=j[k],h=i[g],h===a&&(h=i[g]=[]),h.push({ctx:e,fn:c,once:f});return this},once:function(a,b,c){return this.on(a,b,c,!0)},off:function(b,c,e){if(!this._subscriptions)return this;for(var f,g,h,i,j,k,l,m,n,o=b.split(d),p=o.length,q=-1,r=c!==a,s=e!==a;++q<p;)if(f=o[q],h=this._subscriptions[f]||[],j=h.length,k=-1,g=-1,r){for(l=[],n=!1,g=0;j>g;g++)i=h[g],m=!0,n||(s?i.fn===c&&i.ctx===e&&(m=!1):i.fn===c&&(m=!1)),m?l.push(i):n=!0;n&&(this._subscriptions[f]=l)}else this._subscriptions[f]=[];return this},trigger:function(a){if(!this._subscriptions)return this;for(var b,e,f,g,h,i=a.split(d),j=c.call(arguments),k=i.length,l=-1;++l<k;)for(b=i[l],f=this._subscriptions[b]||[],h=f.length,e=-1;++e<h;)j[0]=b,g=f[e],g.fn.apply(g.ctx,j),g.once&&this.off(b,g.fn,g.ctx);return this}};var e={};e.on=b.event.on,e.once=b.event.once,e.off=b.event.off,e.trigger=b.event.trigger,e.reset=function(){return this._subscriptions={},this},"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd?define("Hub",[],function(){return e}):"object"==typeof window&&(window.Hub=e)}();